# 제품 요구사항 명세서 (PRD): Vibe Water Tracker

## 1. 개요

- **프로젝트명:** Vibe Water Tracker (가칭)
- **목표:** 사용자가 매일 마시는 물의 양을 손쉽게 기록하고, 주간, 월간, 전체 섭취량을 추적하여 건강한 수분 섭취 습관을 형성하도록 돕는 모바일 애플리케이션을 개발합니다.
- **핵심 가치:** 간편한 기록, 직관적인 통계, 동기 부여.

## 2. 타겟 사용자

- 건강 관리에 관심이 많은 사용자.
- 꾸준한 수분 섭취 습관을 만들고 싶은 사용자.
- 자신의 음수량을 간단하게 기록하고 확인하고 싶은 사용자.

## 3. 기능 요구사항

### 3.1. 사용자 인증 (Firebase Auth)

- **R1.1. 소셜 로그인:** 사용자는 Google 계정을 통해 간편하게 로그인할 수 있습니다.
- **R1.2. 로그아웃:** 사용자는 앱 내에서 안전하게 로그아웃할 수 있습니다.
- **R1.3. 세션 관리:** 로그인된 사용자는 앱을 재시작해도 자동으로 로그인 상태가 유지됩니다.

### 3.2. 스플래시 화면 (Splash Page)

- **R2.1. 자동 경로 설정:** 앱 실행 시, 사용자의 로그인 상태를 확인합니다.
  - 로그인 상태일 경우: 홈 화면으로 자동 이동합니다.
  - 로그아웃 상태일 경우: 로그인 화면으로 자동 이동합니다.

### 3.3. 로그인 화면 (Login Page)

- **R3.1. Google 로그인 버튼:** "Google 계정으로 로그인" 버튼을 제공합니다.

### 3.4. 홈 화면 (Home Screen)

- **R4.1. 탭 기반 네비게이션:** 하단 탭 바를 통해 '물 마시기'와 '기록' 두 개의 주요 화면으로 이동할 수 있습니다.

#### 3.4.1. 물 마시기 탭

- **R4.2. 오늘의 섭취량 표시:** 화면 상단에 오늘 마신 물의 총량을 표시합니다.
- **R4.3. 섭취량 추가 버튼:** 사용자는 버튼을 눌러 물 섭취량을 기록할 수 있습니다.
  - **호록:** +10ml 추가
  - **꼴깍:** +30ml 추가
  - **꿀꺽:** +50ml 추가
- **R4.4. 섭취량 감소 버튼:** 잘못 기록한 경우를 대비해 섭취량을 감소시키는 기능을 제공합니다.
  - **쪼록:** -30ml 차감

#### 3.4.2. 기록 탭

- **R4.5. 개인 기록 통계:** 사용자는 자신의 누적 수분 섭취 기록을 확인할 수 있습니다.
  - 오늘 마신 양
  - 이번 주 마신 양
  - 이번 달 마신 양
- **R4.6. 전체 사용자 통계 (TMI):** 앱을 사용하는 모든 사용자가 현재까지 마신 물의 총량을 표시하여 재미와 동기를 부여합니다.
- **R4.7. 로그아웃 기능:** '기록' 탭 내에 로그아웃 버튼을 배치합니다.

## 4. 데이터 모델 (Firebase Firestore)

- **`users` 컬렉션:**
  - `{userId}` 문서:
    - `uid` (String): Firebase Authentication UID
    - `email` (String): 사용자 이메일
    - `displayName` (String): 사용자 이름
    - `daily_intakes` (Map): 날짜별 물 섭취량 기록
      - `YYYY-MM-DD` (String): `amount` (Number)
- **`global_stats` 컬렉션:**
  - `total_intake` 문서:
    - `totalAmount` (Number): 모든 사용자의 누적 섭취량

## 5. 기술 스택 및 아키텍처

- **프론트엔드:** Flutter
- **백엔드 & 데이터베이스:** Firebase (Authentication, Firestore)
- **상태 관리:** BLoC (Cubit)
- **라우팅:** go_router
- **아키텍처:** 레이어드 아키텍처 (Presentation - Domain - Data)

## 6. 비기능 요구사항

- **플랫폼:** Android, iOS
- **디자인:** 깔끔하고 직관적인 미니멀리즘 디자인을 지향합니다.
- **성능:** 사용자의 입력에 즉각적으로 반응하며, 데이터 동기화가 원활해야 합니다.
